"use strict";(self.webpackChunkcalcs=self.webpackChunkcalcs||[]).push([[134],{2134:(M,d,e)=>{e.r(d),e.d(d,{AdminModule:()=>A});var f=e(9e3),s=e(6161),c=e(1135),u=e(7579),h=e(2722),p=e(5750),o=e(4650),m=e(6895),g=e(1045);function C(t,r){if(1&t&&o._UZ(0,"form-render",1),2&t){const n=o.oxw();o.Q6J("formConfig",n.formConfig)}}let a=(()=>{class t{constructor(n,i){this.formService=n,this.name=null,this.formConfig=p.qQ,this.initialised$=new c.X(!1),this.destroy$=new u.x,this.name||(this.name=i.snapshot.paramMap.get("name"))}ngOnInit(){this.name&&this.formService.get(this.name).pipe((0,h.R)(this.destroy$)).subscribe(n=>{this.formConfig=this.transformBuilderConfig(this.deepCopy(n)),this.initialised$.next(!0)})}ngOnDestroy(){this.destroy$.next(!0)}deepCopy(n){return JSON.parse(JSON.stringify(n))}transformBuilderConfig(n){return n.root=this._transform(n.root),n}_transform(n){let l=n;return n.child&&(n.child=this._transform(n.child)),l.children&&(l.children=l.children.map(F=>this._transform(F))),{type:"build-wrapper",child:n}}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(f.o),o.Y36(s.gz))},t.\u0275cmp=o.Xpm({type:t,selectors:[["form-builder"]],inputs:{name:"name"},decls:2,vars:3,consts:[[3,"formConfig",4,"ngIf"],[3,"formConfig"]],template:function(n,i){1&n&&(o.YNc(0,C,1,1,"form-render",0),o.ALo(1,"async")),2&n&&o.Q6J("ngIf",o.lcZ(1,1,i.initialised$))},dependencies:[m.O5,g.B,m.Ov],encapsulation:2}),t})();const v=[{path:"",component:a},{path:"form-builder/:name",component:a}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[s.Bz.forChild(v),s.Bz]}),t})();var B=e(1975);let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[f.o],imports:[m.ez,B.e,y]}),t})()}}]);